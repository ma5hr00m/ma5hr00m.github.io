<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="æ˜¯ä»€ä¹ˆDocker æ˜¯ä¸€ä¸ªå¼€æºçš„åº”ç”¨å®¹å™¨å¼•æ“ï¼Œå®ƒå…è®¸ç”¨æˆ·å°†ä»–ä»¬çš„åº”ç”¨ä»¥åŠä¾èµ–æ‰“åŒ…åˆ°ä¸€ä¸ªè½»é‡çº§ã€å¯ç§»æ¤çš„å®¹å™¨ï¼ˆcontainerï¼‰ä¸­ï¼Œç„¶åéƒ¨ç½²åˆ°ä»»ä½•ç¯å¢ƒä¸­ã€‚ docker ç”± dotCloud å…¬å¸å¼€å‘ç»´æŠ¤ï¼Œä¸»è¦é¡¹ç›®ä»£ç å¼€æºä¸ GitHubã€‚åŸºäº Go å¼€å‘å®ç°ï¼Œå¹¶éµå¾ª Apache2.0 åè®®å¼€æºã€‚å› ä¸º Docker çš„ç«çˆ†ï¼ŒdotCloud å…¬å¸äº 2013 å¹´æ”¹åä¸º Dockerã€‚ ä¸ä¼ ç»Ÿè™šæ‹Ÿ">
<meta property="og:type" content="article">
<meta property="og:title" content="æŒæ¡ Docker çš„ä½¿ç”¨">
<meta property="og:url" content="https://blog.ma5hr00m.top/2023/05/02/docker-base/index.html">
<meta property="og:site_name" content="è‡ç‰©è¯­">
<meta property="og:description" content="æ˜¯ä»€ä¹ˆDocker æ˜¯ä¸€ä¸ªå¼€æºçš„åº”ç”¨å®¹å™¨å¼•æ“ï¼Œå®ƒå…è®¸ç”¨æˆ·å°†ä»–ä»¬çš„åº”ç”¨ä»¥åŠä¾èµ–æ‰“åŒ…åˆ°ä¸€ä¸ªè½»é‡çº§ã€å¯ç§»æ¤çš„å®¹å™¨ï¼ˆcontainerï¼‰ä¸­ï¼Œç„¶åéƒ¨ç½²åˆ°ä»»ä½•ç¯å¢ƒä¸­ã€‚ docker ç”± dotCloud å…¬å¸å¼€å‘ç»´æŠ¤ï¼Œä¸»è¦é¡¹ç›®ä»£ç å¼€æºä¸ GitHubã€‚åŸºäº Go å¼€å‘å®ç°ï¼Œå¹¶éµå¾ª Apache2.0 åè®®å¼€æºã€‚å› ä¸º Docker çš„ç«çˆ†ï¼ŒdotCloud å…¬å¸äº 2013 å¹´æ”¹åä¸º Dockerã€‚ ä¸ä¼ ç»Ÿè™šæ‹Ÿ">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://agu-img.oss-cn-hangzhou.aliyuncs.com/blog/20230924232212.png">
<meta property="article:published_time" content="2023-05-01T16:00:00.000Z">
<meta property="article:modified_time" content="2024-06-22T04:40:48.419Z">
<meta property="article:author" content="ma5hr00m">
<meta property="article:tag" content="ma5hr00m, blog, é˜¿è‡, æŠ€æœ¯, ä¸ªäººåšå®¢">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://agu-img.oss-cn-hangzhou.aliyuncs.com/blog/20230924232212.png">
    
    
      
        
          <link rel="shortcut icon" href="https://img.ma5hr00m.top/blog/im-favicon.svg">
        
      
      
        
          <link rel="icon" type="image/png" href="https://img.ma5hr00m.top/blog/im-favicon.svg" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="https://img.ma5hr00m.top/blog/im-favicon.svg">
        
      
    
    <!-- title -->
    <title>æŒæ¡ Docker çš„ä½¿ç”¨</title>
    <!-- async scripts -->
    <!-- Google Analytics -->

  <script async src="https://www.googletagmanager.com/gtag/js?id=G-JYGWHCT9EX"></script>
  <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-JYGWHCT9EX');
  </script>


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
		<script type="text/x-mathjax-config">
		  MathJax.Hub.Config({
			tex2jax: {
			  skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
			  inlineMath: [['$','$']]
			}
		  });
		</script>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>
	
<meta name="generator" content="Hexo 7.2.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="ç›®å½•"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="ç›®å½•"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="é¡¶éƒ¨" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">é¦–é¡µ</a></li><!--
     --><!--
       --><li><a href="/about/">å…³äº</a></li><!--
     --><!--
       --><li><a href="/archives/">å½’æ¡£</a></li><!--
     --><!--
       --><li><a href="/friends/">å‹é“¾</a></li><!--
     --><!--
       --><li><a href="/categories/">åˆ†ç±»</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="http://github.com/ma5hr00m">é¡¹ç›®</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="ä¸Šä¸€ç¯‡" href="/2023/06/12/nvm-node/"><i class="fa-solid fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="ä¸‹ä¸€ç¯‡" href="/2023/04/28/koa2-crud-example/"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="è¿”å›é¡¶éƒ¨" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="åˆ†äº«æ–‡ç« " href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">ä¸Šä¸€ç¯‡</span>
      <span id="i-next" class="info" style="display:none;">ä¸‹ä¸€ç¯‡</span>
      <span id="i-top" class="info" style="display:none;">è¿”å›é¡¶éƒ¨</span>
      <span id="i-share" class="info" style="display:none;">åˆ†äº«æ–‡ç« </span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://blog.ma5hr00m.top/2023/05/02/docker-base/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://blog.ma5hr00m.top/2023/05/02/docker-base/&text=æŒæ¡ Docker çš„ä½¿ç”¨"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://blog.ma5hr00m.top/2023/05/02/docker-base/&title=æŒæ¡ Docker çš„ä½¿ç”¨"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://blog.ma5hr00m.top/2023/05/02/docker-base/&is_video=false&description=æŒæ¡ Docker çš„ä½¿ç”¨"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=æŒæ¡ Docker çš„ä½¿ç”¨&body=Check out this article: https://blog.ma5hr00m.top/2023/05/02/docker-base/"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://blog.ma5hr00m.top/2023/05/02/docker-base/&title=æŒæ¡ Docker çš„ä½¿ç”¨"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://blog.ma5hr00m.top/2023/05/02/docker-base/&title=æŒæ¡ Docker çš„ä½¿ç”¨"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://blog.ma5hr00m.top/2023/05/02/docker-base/&title=æŒæ¡ Docker çš„ä½¿ç”¨"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://blog.ma5hr00m.top/2023/05/02/docker-base/&title=æŒæ¡ Docker çš„ä½¿ç”¨"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://blog.ma5hr00m.top/2023/05/02/docker-base/&name=æŒæ¡ Docker çš„ä½¿ç”¨&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://blog.ma5hr00m.top/2023/05/02/docker-base/&t=æŒæ¡ Docker çš„ä½¿ç”¨"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    
    
      <div id="toc">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">1.</span> <span class="toc-text">æ˜¯ä»€ä¹ˆ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8E%E4%BC%A0%E7%BB%9F%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%9A%84%E6%AF%94%E8%BE%83"><span class="toc-number">2.</span> <span class="toc-text">ä¸ä¼ ç»Ÿè™šæ‹Ÿæœºçš„æ¯”è¾ƒ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-Docker"><span class="toc-number">3.</span> <span class="toc-text">å®‰è£… Docker</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-Docker-Compose"><span class="toc-number">4.</span> <span class="toc-text">å®‰è£… Docker Compose</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#docker-%E6%8D%A2%E6%BA%90"><span class="toc-number">5.</span> <span class="toc-text">docker æ¢æº</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-Portainer"><span class="toc-number">6.</span> <span class="toc-text">å®‰è£… Portainer</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83"><span class="toc-number">7.</span> <span class="toc-text">å‚è€ƒ</span></a></li></ol>
      </div>
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        æŒæ¡ Docker çš„ä½¿ç”¨
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name">ma5hr00m</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2023-05-01T16:00:00.000Z" class="dt-published" itemprop="datePublished">2023-05-02</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fa-solid fa-archive"></i>
        <a class="category-link" href="/categories/Docker/">Docker</a>
    </div>


      

    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <h2 id="æ˜¯ä»€ä¹ˆ"><a href="#æ˜¯ä»€ä¹ˆ" class="headerlink" title="æ˜¯ä»€ä¹ˆ"></a>æ˜¯ä»€ä¹ˆ</h2><p><em>Docker</em> æ˜¯ä¸€ä¸ªå¼€æºçš„åº”ç”¨å®¹å™¨å¼•æ“ï¼Œå®ƒå…è®¸ç”¨æˆ·å°†ä»–ä»¬çš„åº”ç”¨ä»¥åŠä¾èµ–æ‰“åŒ…åˆ°ä¸€ä¸ªè½»é‡çº§ã€å¯ç§»æ¤çš„å®¹å™¨ï¼ˆ<em>container</em>ï¼‰ä¸­ï¼Œç„¶åéƒ¨ç½²åˆ°ä»»ä½•ç¯å¢ƒä¸­ã€‚</p>
<p>docker ç”± dotCloud å…¬å¸å¼€å‘ç»´æŠ¤ï¼Œä¸»è¦é¡¹ç›®ä»£ç å¼€æºä¸ GitHubã€‚åŸºäº Go å¼€å‘å®ç°ï¼Œå¹¶éµå¾ª Apache2.0 åè®®å¼€æºã€‚å› ä¸º Docker çš„ç«çˆ†ï¼ŒdotCloud å…¬å¸äº 2013 å¹´æ”¹åä¸º Dockerã€‚</p>
<h2 id="ä¸ä¼ ç»Ÿè™šæ‹Ÿæœºçš„æ¯”è¾ƒ"><a href="#ä¸ä¼ ç»Ÿè™šæ‹Ÿæœºçš„æ¯”è¾ƒ" class="headerlink" title="ä¸ä¼ ç»Ÿè™šæ‹Ÿæœºçš„æ¯”è¾ƒ"></a>ä¸ä¼ ç»Ÿè™šæ‹Ÿæœºçš„æ¯”è¾ƒ</h2><p>ä½ æ—¢ç„¶çŸ¥é“ dockerï¼Œæƒ³å¿…ä¹ŸçŸ¥é“è™šæ‹Ÿæœºã€‚ä½ ä¼šå‘ç°äºŒè€…çš„åŠŸèƒ½çœ‹èµ·æ¥å¾ˆç›¸ä¼¼ã€‚é‚£ä¸ºä»€ä¹ˆæˆ‘ä»¬ä¼šåœ¨æŸäº›åœºæ™¯ä¸‹ä½¿ç”¨ dockerï¼Œè€Œä¸æ˜¯ä¼ ç»Ÿè™šæ‹Ÿæœºå‘¢ï¼Ÿ</p>
<p>ç®€å•è¯´è¯´äºŒè€…çš„åŒºåˆ«ï¼š</p>
<p>ä¼ ç»Ÿçš„è™šæ‹ŸæœºæŠ€æœ¯æ˜¯è™šæ‹Ÿå‡ºä¸€å¥—ç¡¬ä»¶ï¼Œç„¶ååœ¨è¿™å¥—è™šæ‹Ÿç¡¬ä»¶ä¸Šè¿è¡Œä¸€ä¸ªå®Œæ•´çš„æ“ä½œç³»ç»Ÿï¼Œå†åœ¨è¯¥æ“ä½œç³»ç»Ÿä¸Šè¿è¡Œæ‰€éœ€åº”ç”¨è¿›ç¨‹ï¼›<br>è€Œ docker å®¹å™¨çš„åº”ç”¨è¿›ç¨‹åˆ™è¿è¡Œäºå®¿ä¸»å†…æ ¸ï¼Œå®¹å™¨æ²¡æœ‰è‡ªå·±çš„å†…æ ¸ï¼Œä¹Ÿæ²¡æœ‰è¿›è¡Œç¡¬ä»¶è™šæ‹Ÿï¼Œè¿™ä½¿å¾—å®¹å™¨æ¯”ä¼ ç»Ÿè™šæ‹Ÿæœºæ›´åŠ è½»ä¾¿ã€‚</p>
<p>ç›¸æ¯”äºä¼ ç»Ÿè™šæ‹ŸæœºæŠ€æœ¯ï¼Œdocker ä¸»è¦æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š</p>
<ul>
<li>âœ¨ docker ä¸éœ€è¦è¿›è¡Œç¡¬ä»¶è™šæ‹Ÿä»¥åŠè¿è¡Œå®Œæ•´æ“ä½œç³»ç»Ÿç­‰é¢å¤–å¼€é”€ï¼Œå¯¹ç³»ç»Ÿèµ„æºçš„åˆ©ç”¨ç‡æ›´é«˜ï¼Œå…è®¸ä½ åœ¨åŒä¸€å°ä¸»æœºè¿è¡Œæ›´å¤šçš„åº”ç”¨ï¼›</li>
<li>ğŸš€ docker è¿è¡Œäºå®¿ä¸»å†…æ ¸ï¼Œæ— éœ€å¯åŠ¨å®Œæ•´çš„æ“ä½œç³»ç»Ÿï¼Œå¯ä»¥å®ç°æ›´å¿«çš„å¯åŠ¨ï¼›</li>
<li>ğŸ“¦ åªè¦å®‰è£…äº† <em>docker engine</em>ï¼Œä½ çš„åº”ç”¨é•œåƒå¯ä»¥è¿è¡Œåœ¨ä»»ä½•ç¯å¢ƒä¸­ã€‚</li>
</ul>
<h2 id="å®‰è£…-Docker"><a href="#å®‰è£…-Docker" class="headerlink" title="å®‰è£… Docker"></a>å®‰è£… Docker</h2><blockquote>
<p>ä»¥ ubuntu22.04 ç³»ç»Ÿä¸ºä¾‹</p>
</blockquote>
<p>å®‰è£…ä¸€äº›å¿…è¦çš„è½¯ä»¶åŒ…ï¼Œè¿™äº›è½¯ä»¶åŒ…å¯ä»¥è®©ä½ ä½¿ç”¨ HTTPS åè®®ä»äº’è”ç½‘ä¸Šä¸‹è½½è½¯ä»¶ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install apt-transport-https ca-certificates curl gnupg-agent software-properties-common</span><br></pre></td></tr></table></figure>

<p>ä» docker çš„å®˜æ–¹ç½‘ç«™ä¸‹è½½å…¬é’¥ï¼Œå¹¶æ·»åŠ åˆ° apt çš„ä¿¡ä»»åˆ—è¡¨ä¸­ã€‚è¿™æ ·åšå¯ä»¥ç¡®ä¿ä½ ä¸‹è½½çš„è½¯ä»¶åŒ…æ˜¯åŸå§‹çš„ï¼Œæ²¡æœ‰è¢«ç¯¡æ”¹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -</span><br></pre></td></tr></table></figure>

<p>å‘ä½ çš„ç³»ç»Ÿçš„è½¯ä»¶æºåˆ—è¡¨ä¸­æ·»åŠ  docker çš„å®˜æ–¹ Ubuntu ä»“åº“ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo add-apt-repository <span class="string">&quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu <span class="subst">$(lsb_release -cs)</span> stable&quot;</span></span><br></pre></td></tr></table></figure>

<p>é¦–å…ˆæ›´æ–°ç³»ç»Ÿçš„è½¯ä»¶åŒ…åˆ—è¡¨ï¼Œç„¶åä» docker çš„å®˜æ–¹ ubuntu ä»“åº“ä¸­å®‰è£…Docker CEï¼ŒDocker CLI å’Œ containerd.ioã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update &amp;&amp; sudo apt install docker-ce docker-ce-cli containerd.io</span><br></pre></td></tr></table></figure>

<p>æ£€æŸ¥ docker æœåŠ¡çš„çŠ¶æ€ï¼Œç¡®è®¤æ˜¯å¦å·²ç»æˆåŠŸå®‰è£…ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl status docker</span><br></pre></td></tr></table></figure>

<p>åŒæ—¶ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤è®¾ç½® docker æ¯æ¬¡å¼€æœºè‡ªå¯åŠ¨ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl <span class="built_in">enable</span> docker</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤å…³é—­ docker å¼€æœºè‡ªå¯åŠ¨ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl <span class="built_in">disable</span> docker</span><br></pre></td></tr></table></figure>

<p>é‡å¯ docker æœåŠ¡ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure>

<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œåªæœ‰ root ç”¨æˆ·æœ‰æƒåˆ©æ‰§è¡Œ docker æŒ‡ä»¤ï¼Œè¿™ç¡®ä¿äº†å®‰å…¨ï¼Œä½†æœ‰äº›ç”¨æˆ·å¯èƒ½è®¤ä¸ºå¤šæ­¤ä¸€ä¸¾ã€‚æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å°†å½“å‰ç”¨æˆ·æ·»åŠ åˆ° docker ç”¨æˆ·ç»„ï¼Œé‡æ–°ç™»é™†åæˆ‘ä»¬å³å¯ä½¿ç”¨å½“å‰ç”¨æˆ·èº«ä»½æ‰§è¡Œ docker å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo usermod -aG docker <span class="variable">$USER</span></span><br></pre></td></tr></table></figure>

<p>éƒ½æå®šåï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿è¡Œä¸€ä¸ªæµ‹è¯•å®¹å™¨ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker container run hello-world</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‡ºç°ä»¥ä¸‹è¾“å‡ºï¼Œä»£è¡¨ docker åŠŸèƒ½æ­£å¸¸ã€‚</span></span><br><span class="line"><span class="comment"># Hello from Docker!</span></span><br><span class="line"><span class="comment"># This message shows that your installation appears to be working correctly.</span></span><br></pre></td></tr></table></figure>

<p>å…³äºå¦‚ä½•å¸è½½ dockerï¼Œå…¶å®ç”¨çš„ä¸å¤šï¼Œä½†ä¹Ÿå¯ä»¥è®°å½•ä¸€æ‰‹ã€‚</p>
<p>åœæ­¢æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨ä»¥åŠæ‰€æœ‰çš„ docker å¯¹è±¡ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker container stop $(docker container <span class="built_in">ls</span> -aq)</span><br><span class="line">docker system prune -a --volumes</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ apt å¸è½½ docker ä»¥åŠç›¸å…³ä¾èµ–ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt purge docker-ce &amp;&amp; sudo apt autoremove</span><br></pre></td></tr></table></figure>

<h2 id="å®‰è£…-Docker-Compose"><a href="#å®‰è£…-Docker-Compose" class="headerlink" title="å®‰è£… Docker Compose"></a>å®‰è£… Docker Compose</h2><p><code>docker compose</code> æ˜¯ä¸€ä¸ªç”¨äºå®šä¹‰å’Œè¿è¡Œå¤šå®¹å™¨ Docker åº”ç”¨ç¨‹åºçš„å·¥å…·ã€‚</p>
<p>ä»å®˜æ–¹ä»“åº“æ‹‰å–æœ€æ–°ç‰ˆæœ¬å¹¶å®‰è£…ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo curl -L <span class="string">&quot;https://github.com/docker/compose/releases/latest/download/docker-compose-<span class="subst">$(uname -s)</span>-<span class="subst">$(uname -m)</span>&quot;</span> -o /usr/local/bin/docker-compose</span><br></pre></td></tr></table></figure>

<p>ä¸º docker-compose æ·»åŠ æ‰§è¡Œæƒé™ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="built_in">chmod</span> +x /usr/local/bin/docker-compose</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç‰ˆæœ¬ä¿¡æ¯æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose --version</span><br></pre></td></tr></table></figure>

<h2 id="docker-æ¢æº"><a href="#docker-æ¢æº" class="headerlink" title="docker æ¢æº"></a>docker æ¢æº</h2><p>docker é»˜è®¤é•œåƒæºåœ¨å›½å¤–ï¼Œå‡ºäºæŸäº›åŸå› ï¼Œæˆ‘ä»¬æ‹‰å–é•œåƒå¯èƒ½ä¼šéå¸¸æ…¢ã€‚è¿™å¤ªç—›è‹¦äº†ã€‚æˆ‘ä»¬å¯ä»¥ä¿®æ”¹ <code>/etc/docker/daemon.json</code> æ–‡ä»¶ï¼Œä»¥ä¿®æ”¹é•œåƒæºï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/docker/daemon.json</span><br></pre></td></tr></table></figure>

<p>æ·»åŠ å›½å†…æºï¼š</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;registry-mirrors&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;https://docker.m.daocloud.io/&quot;</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>ä¿å­˜åé€€å‡ºï¼Œé‡å¯ docker æœåŠ¡ã€‚æ¢æºå®Œæˆã€‚</p>
<blockquote>
<p>ä¸åŒæºä¹Ÿæ˜¯å­˜åœ¨åŒºåˆ«çš„ï¼Œä½¿ç”¨å‰ä¸€å®šè¦æ³¨æ„ã€‚å‚è€ƒè¿™ç¯‡æ•™ç¨‹ï¼š<a target="_blank" rel="noopener" href="https://gist.github.com/y0ngb1n/7e8f16af3242c7815e7ca2f0833d3ea6">Docker Hub é•œåƒåŠ é€Ÿå™¨</a></p>
</blockquote>
<h2 id="å®‰è£…-Portainer"><a href="#å®‰è£…-Portainer" class="headerlink" title="å®‰è£… Portainer"></a>å®‰è£… Portainer</h2><p>ä½¿ç”¨å‘½ä»¤è¡Œç®¡ç†å°‘æ•° docker å®¹å™¨å¯èƒ½æŒºæ–¹ä¾¿ï¼Œå¯è¦æ˜¯å®¹å™¨å¤šèµ·æ¥å°±ä¼šå˜å¾—ç¹çï¼Œä¸”å‘½ä»¤è¡Œä¸­çš„æ•°æ®ä¹Ÿä¸å¤Ÿç›´è§‚ã€‚<br>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€äº›å¯è§†åŒ–å·¥å…·æé«˜æˆ‘ä»¬çš„æ•ˆç‡ã€‚</p>
<p><code>Portainer</code> æ˜¯ä¸€æ¬¾è½»é‡çº§çš„ docker ç®¡ç†å·¥å…·ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒç®¡ç†æˆ‘ä»¬çš„docker é•œåƒå®¹å™¨ã€‚<br><img src="https://agu-img.oss-cn-hangzhou.aliyuncs.com/blog/20230924232212.png" alt="Portainerè¿è¡Œé¡µé¢å±•ç¤º"></p>
<p>æ‹‰å– portainer é•œåƒåˆ°æœ¬åœ°å¹¶éƒ¨ç½²ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨æµè§ˆå™¨ä¸­è®¿é—® portainer æœåŠ¡ï¼Œç®¡ç†æœ¬åœ°é•œåƒå’Œå®¹å™¨ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker pull portainer/portainer-ce</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤ï¼Œä½¿ç”¨ <code>portainer/portainer-ce</code> é•œåƒåˆ›å»ºä¸€ä¸ªè¿è¡Œåœ¨æœ¬åœ° 9000 ç«¯å£çš„é•œåƒã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker run -d -p 9000:9000 -v /var/run/docker.sock:/var/run/docker.sock -v /dockerData/portainer:/data --restart=always --name portainer portainer/portainer</span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºæˆåŠŸåï¼Œè®¿é—® <a target="_blank" rel="noopener" href="http://localhost:9000/">localhost:9000</a> çš„ portainer æœåŠ¡ï¼ŒæŒ‰ç…§æŒ‡å¼•è¿›è¡Œä¸€äº›åŸºæœ¬é…ç½®ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ–¹ä¾¿å¿«æ·çš„ç®¡ç†æˆ‘ä»¬çš„é•œåƒå’Œå®¹å™¨äº†ã€‚</p>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul>
<li><a target="_blank" rel="noopener" href="https://yeasy.gitbook.io/docker_practice/introduction/why">Docker - ä»å…¥é—¨åˆ°å®è·µ</a></li>
<li><a target="_blank" rel="noopener" href="https://www.runoob.com/docker/docker-command-manual.html">Docker å¸¸ç”¨æŒ‡ä»¤</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/portainer/portainer">Portainer - github</a></li>
</ul>

  </div>
</article>


    <div class="blog-post-comments">
        <div id="utterances_thread">
            <noscript>åŠ è½½è¯„è®ºéœ€è¦åœ¨æµè§ˆå™¨å¯ç”¨ JavaScript è„šæœ¬æ”¯æŒã€‚</noscript>
        </div>
    </div>


        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">é¦–é¡µ</a></li>
        
          <li><a href="/about/">å…³äº</a></li>
        
          <li><a href="/archives/">å½’æ¡£</a></li>
        
          <li><a href="/friends/">å‹é“¾</a></li>
        
          <li><a href="/categories/">åˆ†ç±»</a></li>
        
          <li><a target="_blank" rel="noopener" href="http://github.com/ma5hr00m">é¡¹ç›®</a></li>
        
      </ul>
    </div>

    
    
      <div id="toc-footer" style="display: none">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">1.</span> <span class="toc-text">æ˜¯ä»€ä¹ˆ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8E%E4%BC%A0%E7%BB%9F%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%9A%84%E6%AF%94%E8%BE%83"><span class="toc-number">2.</span> <span class="toc-text">ä¸ä¼ ç»Ÿè™šæ‹Ÿæœºçš„æ¯”è¾ƒ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-Docker"><span class="toc-number">3.</span> <span class="toc-text">å®‰è£… Docker</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-Docker-Compose"><span class="toc-number">4.</span> <span class="toc-text">å®‰è£… Docker Compose</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#docker-%E6%8D%A2%E6%BA%90"><span class="toc-number">5.</span> <span class="toc-text">docker æ¢æº</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-Portainer"><span class="toc-number">6.</span> <span class="toc-text">å®‰è£… Portainer</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83"><span class="toc-number">7.</span> <span class="toc-text">å‚è€ƒ</span></a></li></ol>
      </div>
    

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://blog.ma5hr00m.top/2023/05/02/docker-base/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://blog.ma5hr00m.top/2023/05/02/docker-base/&text=æŒæ¡ Docker çš„ä½¿ç”¨"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://blog.ma5hr00m.top/2023/05/02/docker-base/&title=æŒæ¡ Docker çš„ä½¿ç”¨"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://blog.ma5hr00m.top/2023/05/02/docker-base/&is_video=false&description=æŒæ¡ Docker çš„ä½¿ç”¨"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=æŒæ¡ Docker çš„ä½¿ç”¨&body=Check out this article: https://blog.ma5hr00m.top/2023/05/02/docker-base/"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://blog.ma5hr00m.top/2023/05/02/docker-base/&title=æŒæ¡ Docker çš„ä½¿ç”¨"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://blog.ma5hr00m.top/2023/05/02/docker-base/&title=æŒæ¡ Docker çš„ä½¿ç”¨"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://blog.ma5hr00m.top/2023/05/02/docker-base/&title=æŒæ¡ Docker çš„ä½¿ç”¨"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://blog.ma5hr00m.top/2023/05/02/docker-base/&title=æŒæ¡ Docker çš„ä½¿ç”¨"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://blog.ma5hr00m.top/2023/05/02/docker-base/&name=æŒæ¡ Docker çš„ä½¿ç”¨&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://blog.ma5hr00m.top/2023/05/02/docker-base/&t=æŒæ¡ Docker çš„ä½¿ç”¨"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> èœå•</a>
        
          <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> ç›®å½•</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> åˆ†äº«</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> è¿”å›é¡¶éƒ¨</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2022-2024
    ma5hr00m
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">é¦–é¡µ</a></li><!--
     --><!--
       --><li><a href="/about/">å…³äº</a></li><!--
     --><!--
       --><li><a href="/archives/">å½’æ¡£</a></li><!--
     --><!--
       --><li><a href="/friends/">å‹é“¾</a></li><!--
     --><!--
       --><li><a href="/categories/">åˆ†ç±»</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="http://github.com/ma5hr00m">é¡¹ç›®</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"å¤åˆ¶åˆ°ç²˜è´´æ¿ï¼\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "å¤åˆ¶æˆåŠŸï¼");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

  <script type="text/javascript">
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?8a3de63e395686941d3b2d65a69ac600";
          var s = document.getElementsByTagName("script")[0];
          s.parentNode.insertBefore(hm, s);
        })();
        </script>

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

    <script type="text/javascript">
      var utterances_repo = 'ma5hr00m/ma5hr00m.github.io';
      var utterances_issue_term = 'pathname';
      var utterances_label = 'Comment';
      var utterances_theme = 'github-dark';

      (function(){
          var script = document.createElement('script');

          script.src = 'https://utteranc.es/client.js';
          script.setAttribute('repo', utterances_repo);
          script.setAttribute('issue-term', 'pathname');
          script.setAttribute('label', utterances_label);
          script.setAttribute('theme', utterances_theme);
          script.setAttribute('crossorigin', 'anonymous');
          script.async = true;
          (document.getElementById('utterances_thread')).appendChild(script);
      }());
  </script>

</body>
</html>
